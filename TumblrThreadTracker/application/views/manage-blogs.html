<header-nav></header-nav>
<side-nav></side-nav>


<section class="central-container container">
    <div id="content">

        <!-- ================================================== -->
        <section class="row-fluid">
            <form class="form-horizontal" name="newBlogForm" ng-submit="createBlog()">
                <fieldset>
                    <legend>Add a New Blog</legend>
                    <p>
                        Enter the shortname of your blog below to connect it to your account. The shortname is the part of the URL before "tumblr.com",
                        i.e. http://<strong>shortname</strong>.tumblr.com.
                    </p><br />

                    <div class="control-group">
                        <label class="control-label" for="newBlogShortname">Blog shortname:</label>
                        <div class="controls">
                            <input type="text" id="Text1" name="newBlogShortname" required ng-model="newBlogShortname" ng-pattern="shortnameRegex" placeholder="Shortname">
                        </div>
                    </div>
                    <div class="control-group">
                        <div class='controls'>
                            <button type="submit" class="btn">Add Blog</button>
                        </div>
                    </div>

                    <p class="alert alert-success" ng-show="showSuccessMessage">Blogs updated. Click "Track New Thread" to add a thread for one of the blogs below.</p>
                </fieldset>
            </form>

            <fieldset>
                <legend>Manage Existing Blogs</legend>
                <table class="table table-striped blog-table">
                    <tr ng-repeat="blog in blogs | orderBy:'BlogShortname'" ng-class="{'hiatused-blog': blog.OnHiatus}">
                        <td>{{blog.BlogShortname}}</td>
                        <td><a href="/edit-blog/{{blog.UserBlogId}}">Edit</a></td>
                        <td><a href="" ng-click="untrackBlog(blog.UserBlogId)">Untrack</a></td>
                        <td ng-if="blog.OnHiatus"><a href="" ng-click="toggleHiatus(blog)">Set Off Hiatus</a></td>
                        <td ng-if="!blog.OnHiatus"><a href="" ng-click="toggleHiatus(blog)">Set On Hiatus</a></td>
                    </tr>
                    <tr ng-show="blogs.length == 0">
                        <td>You have not yet added any blogs.</td>
                    </tr>
                </table>
            </fieldset>
        </section>

        <!-- / Supported browsers -->
        <!-- Page footer
            ================================================== -->
        <footer></footer>
        <!-- / Page footer -->


    </div>
</section>